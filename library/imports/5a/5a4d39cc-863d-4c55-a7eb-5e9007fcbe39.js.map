{"version":3,"sources":["../../../../assets/Scripts/assets/Scripts/GameView.js"],"names":["STRING","STRING2","SPEED_MOVE_VIEW","GameView","cc","Class","extends","Component","properties","prefabGame","Prefab","startView","Node","loseView","lb_Score","Label","btn_quitGame","Button","onLoad","_timeTotal","_tiemCurrent","_hardLevel","_currentLv","arrCaculer","num1","num2","num3","caculer1","caculer2","is3Num","result","arrIndexHide","arrIndexHide2","posCenter","v2","posRight","winSize","width","posLeft","score","curQuestionView","start","bestScore","sys","localStorage","getItem","setInfo","getRandomQuesiton","str","generateRandomNumber","min_value","max_value","random_number","Math","random","floor","getRandomNum","check3Num","temp","getHardLevel","getRandomCaculer","onClickTest","console","log","lbGame","string","checkCaculer","updateLever","checkReslute","obj","indexHide","length","eval","item","instantiate","getComponent","node","addChild","moveLeft","onLose","moveDown","onClickQuitGame","game","end","module","exports"],"mappings":"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","file":"GameView.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["\nvar STRING = \"%s %d %s = %s\";\nvar STRING2 = \"%s %d %s %d %s = %s\";\nvar SPEED_MOVE_VIEW = 0.2;\nvar GameView = cc.Class({\n    extends: cc.Component,\n\n    properties: {\n        prefabGame: cc.Prefab,\n        startView: cc.Node,\n        loseView: cc.Node,\n        lb_Score: cc.Label,\n        btn_quitGame:cc.Button,\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this._timeTotal = 10;\n        this._tiemCurrent = this._timeTotal;\n        this._hardLevel = 1;\n        this._currentLv = 0;\n        this.arrCaculer = [\"+\", \"-\"];\n        this.num1 = 0;\n        this.num2 = 0;\n        this.num3 = \"\";\n        this.caculer1 = \"+\";\n        this.caculer2 = \"\";\n        this.is3Num = false;\n        this.result = \"\";\n        this.arrIndexHide = [0, 1, 2, 5];\n        this.arrIndexHide2 = [0, 1, 2, 3, 4, 5];\n        this.posCenter = cc.v2(0, 0);\n        this.posRight = cc.v2(cc.winSize.width, 0);\n        this.posLeft = cc.v2(-cc.winSize.width, 0);\n        this.score = 0;\n        this.curQuestionView = null;\n    },\n    start() {\n        this.bestScore= cc.sys.localStorage.getItem(\"bestscore\");\n        if(this.bestScore==null || typeof this.bestScore ===\"undefined\") this.bestScore=0;\n    },\n    setInfo() {\n\n    },\n    getRandomQuesiton() {\n        let str = \"\";\n        str = this.num1 + this.caculer1 + this.num2 + this.caculer2 + this.num3;\n        return str\n    },\n    generateRandomNumber(min_value, max_value) {\n        let random_number = Math.random() * (max_value - min_value) + min_value;\n        return Math.floor(random_number);\n    },\n    getRandomNum() {\n        if (this._currentLv < 10) {\n            return this.generateRandomNumber(1, 10);\n        } else if (this._currentLv < 15) {\n            return this.generateRandomNumber(1, 20);\n        } else if (this._currentLv < 20) {\n            return this.generateRandomNumber(1, 40);\n        }\n        else if (this._currentLv < 30) {\n            return this.generateRandomNumber(1, 50);\n        } else {\n            return this.generateRandomNumber(1, 100);\n        }\n\n    },\n    check3Num() {\n        if (this._currentLv < 10) return false;\n        let temp = this.getHardLevel();\n        if (temp > this.generateRandomNumber(0, 10)) return true;\n        return false\n\n    },\n    getHardLevel() {\n        if (this._currentLv < 20) {\n            return 2;\n        } else if (this._currentLv < 25) {\n            return 3;\n        } else if (this._currentLv < 30) {\n            return 4;\n        } else if (this._currentLv < 35) {\n            return 6;\n        } else {\n            return 8;\n        }\n    },\n    getRandomCaculer() {\n        return this.arrCaculer[this.generateRandomNumber(0, 2)];\n    },\n    onClickTest() {\n        console.log(\"gia tri str la== \" + this.getRandomQuesiton());\n        this.lbGame.string = this.getRandomQuesiton();\n        this._currentLv++;\n    },\n    checkCaculer() {\n        if (this._currentLv > 9) {\n\n        }\n    },\n    // update (dt) {\n    //     console.log(\"== \" + this._tiemCurrent);\n    //     this.spProgress.fillRange = this._tiemCurrent/this._timeTotal;\n    //     this._tiemCurrent-= dt;\n\n    // },\n    updateLever() {\n    },\n    // onClickTest(event , data){\n    //     switch (data){\n    //         case \"0\":\n\n    //         break;\n    //         case \"1\":\n    //         break;\n    //         case \"2\":\n    //         break;\n    //         case \"3\":\n    //         break;\n    //     }\n    // },\n    checkReslute() {\n        let obj = {};\n        obj.num1 = this.getRandomNum();\n        obj.num2 = this.getRandomNum();\n        obj.caculer1 = this.getRandomCaculer();\n        if (this.check3Num()) {\n            obj.num3 = this.getRandomNum();\n            obj.caculer2 = this.getRandomCaculer();\n            obj.indexHide = this.arrIndexHide2[this.generateRandomNumber(0, this.arrIndexHide2.length)];\n\n        } else {\n            obj.num3 = \"\";\n            obj.caculer2 = \"\";\n            obj.indexHide = this.arrIndexHide[this.generateRandomNumber(0, this.arrIndexHide.length)];\n        }\n        obj.indexHide = 1;\n        obj.result = eval(obj.num1 + obj.caculer1 + obj.num2 + obj.caculer2 + obj.num3);\n        this.result=obj.num1 + obj.caculer1 + obj.num2 + obj.caculer2 + obj.num3+\" = \"+ obj.result;\n        let item = cc.instantiate(this.prefabGame).getComponent(\"QuickSmath\");\n        item.setInfo(obj);\n        this.node.addChild(item.node);\n        this.curQuestionView = item;\n        this.startView.getComponent(\"StartView\").moveLeft();\n    },\n    onLose() {\n        this.loseView.getComponent(\"LoseView\").moveDown();\n    },\n    onClickQuitGame(){\n        cc.game.end();\n    }\n\n});\nmodule.exports = GameView"]}