{"version":3,"sources":["..\\..\\..\\..\\assets\\Scripts/assets\\Scripts\\GameView.js"],"names":["STRING","STRING2","SPEED_MOVE_VIEW","GameView","cc","Class","extends","Component","properties","prefabGame","Prefab","startView","Node","loseView","lb_Score","Label","btn_quitGame","Button","onLoad","_timeTotal","_tiemCurrent","_hardLevel","_currentLv","arrCaculer","num1","num2","num3","caculer1","caculer2","is3Num","result","arrIndexHide","arrIndexHide2","posCenter","v2","posRight","winSize","width","posLeft","score","curQuestionView","bestScore","sys","localStorage","getItem","setInfo","getRandomQuesiton","str","generateRandomNumber","min_value","max_value","random_number","Math","random","floor","getRandomNum","check3Num","temp","getHardLevel","getRandomCaculer","onClickTest","lbGame","string","updateLever","getIndexHide","index","length","checkReslute","obj","indexHide","console","log","eval","item","instantiate","getComponent","node","addChild","moveLeft","onLose","moveDown","onClickQuitGame","game","end","module","exports"],"mappings":"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","file":"GameView.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["\r\nvar STRING = \"%s %d %s = %s\";\r\nvar STRING2 = \"%s %d %s %d %s = %s\";\r\nvar SPEED_MOVE_VIEW = 0.2;\r\nvar GameView = cc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        prefabGame: cc.Prefab,\r\n        startView: cc.Node,\r\n        loseView: cc.Node,\r\n        lb_Score: cc.Label,\r\n        btn_quitGame:cc.Button,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this._timeTotal = 10;\r\n        this._tiemCurrent = this._timeTotal;\r\n        this._hardLevel = 1;\r\n        this._currentLv = 0;\r\n        this.arrCaculer = [\"+\", \"-\"];\r\n        this.num1 = 0;\r\n        this.num2 = 0;\r\n        this.num3 = \"\";\r\n        this.caculer1 = \"+\";\r\n        this.caculer2 = \"\";\r\n        this.is3Num = false;\r\n        this.result = \"\";\r\n        this.arrIndexHide = [0, 1, 2, 5];\r\n        this.arrIndexHide2 = [0, 1, 2, 3, 4, 5];\r\n        this.posCenter = cc.v2(0, 0);\r\n        this.posRight = cc.v2(cc.winSize.width, 0);\r\n        this.posLeft = cc.v2(-cc.winSize.width, 0);\r\n        this.score = 0;\r\n        this.curQuestionView = null;\r\n        this.bestScore= cc.sys.localStorage.getItem(\"bestscore\");\r\n        if(this.bestScore==null || typeof this.bestScore ===\"undefined\") this.bestScore=0;\r\n    },\r\n  \r\n    setInfo() {\r\n\r\n    },\r\n    getRandomQuesiton() {\r\n        let str = \"\";\r\n        str = this.num1 + this.caculer1 + this.num2 + this.caculer2 + this.num3;\r\n        return str\r\n    },\r\n    generateRandomNumber(min_value, max_value) {\r\n        let random_number = Math.random() * (max_value - min_value) + min_value;\r\n        return Math.floor(random_number);\r\n    },\r\n    getRandomNum() {\r\n        if (this._currentLv < 10) {\r\n            return this.generateRandomNumber(1, 10);\r\n        } else if (this._currentLv < 15) {\r\n            return this.generateRandomNumber(1, 20);\r\n        } else if (this._currentLv < 20) {\r\n            return this.generateRandomNumber(1, 40);\r\n        }\r\n        else if (this._currentLv < 30) {\r\n            return this.generateRandomNumber(1, 50);\r\n        } else {\r\n            return this.generateRandomNumber(1, 100);\r\n        }\r\n\r\n    },\r\n    check3Num() {\r\n        if (this._currentLv < 6) return false;\r\n        let temp = this.getHardLevel();\r\n        if (temp > this.generateRandomNumber(0, 10)) return true;\r\n        return false\r\n\r\n    },\r\n    getHardLevel() {\r\n        if (this._currentLv < 15) {\r\n            return 2;\r\n        } else if (this._currentLv < 20) {\r\n            return 3;\r\n        } else if (this._currentLv < 25) {\r\n            return 4;\r\n        } else if (this._currentLv < 30) {\r\n            return 6;\r\n        } else {\r\n            return 8;\r\n        }\r\n    },\r\n    getRandomCaculer() {\r\n        return this.arrCaculer[this.generateRandomNumber(0, 2)];\r\n    },\r\n    onClickTest() {\r\n        this.lbGame.string = this.getRandomQuesiton();\r\n        this._currentLv++;\r\n    },\r\n   \r\n    // update (dt) {\r\n    //     console.log(\"== \" + this._tiemCurrent);\r\n    //     this.spProgress.fillRange = this._tiemCurrent/this._timeTotal;\r\n    //     this._tiemCurrent-= dt;\r\n\r\n    // },\r\n    updateLever() {\r\n    },\r\n    getIndexHide(){\r\n        let index = 0;\r\n        if(this._currentLv < 8) \r\n        return 5;\r\n        if(this.is3Num){\r\n            index =  this.arrIndexHide2[this.generateRandomNumber(0,this.arrIndexHide2.length)];\r\n        }else{\r\n            index =  this.arrIndexHide[this.generateRandomNumber(0,this.arrIndexHide.length)];\r\n        }\r\n        return index\r\n    },\r\n   \r\n    checkReslute() {\r\n        let obj = {};\r\n        obj.num1 = this.getRandomNum();\r\n        obj.num2 = this.getRandomNum();\r\n        obj.caculer1 = this.getRandomCaculer();\r\n        if (this.check3Num()) {\r\n            obj.num3 = this.getRandomNum();\r\n            obj.caculer2 = this.getRandomCaculer();\r\n            this.is3Num = true;\r\n        }else{\r\n            obj.num3 = \"\";\r\n            obj.caculer2 = \"\";\r\n            this.is3Num = false;\r\n        }\r\n\r\n        obj.indexHide = this.getIndexHide();\r\n            console.log(\"index hide la== \" + obj.indexHide);\r\n\r\n        obj.result = eval(obj.num1 + obj.caculer1 + obj.num2 + obj.caculer2 + obj.num3);\r\n        this.result=obj.num1 + obj.caculer1 + obj.num2 + obj.caculer2 + obj.num3+\" = \"+ obj.result;\r\n        let item = cc.instantiate(this.prefabGame).getComponent(\"QuickSmath\");\r\n        item.setInfo(obj);\r\n        item.GameView = this;\r\n        this.node.addChild(item.node);\r\n        this.curQuestionView = item;\r\n        this.startView.getComponent(\"StartView\").moveLeft();\r\n    },\r\n    onLose() {\r\n        this.loseView.getComponent(\"LoseView\").moveDown();\r\n    },\r\n    onClickQuitGame(){\r\n        cc.game.end();\r\n    }\r\n\r\n});\r\nmodule.exports = GameView"]}