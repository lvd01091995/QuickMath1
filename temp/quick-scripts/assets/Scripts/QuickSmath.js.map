{"version":3,"sources":["QuickSmath.js"],"names":["SPEED_MOVE_VIEW","cc","Class","extends","Component","properties","lb","Label","lbButon","spCountDown","Sprite","isStart","list_Bkg","SpriteFrame","bkg","lb_Score","onLoad","num1","num2","num3","caculer1","caculer2","result","indexHide","current","totlTime","node","position","v2","winSize","width","posCenter","posRight","posLeft","setRandomBkg","string","GameView","score","start","moveIn","setInfo","obj","isThreeAnswer","numHide","console","log","this","parent","active","setInfoBtn","getResult","str","eval","onClick","event","data","isFinish","isFail","moveOut","_currentLv","checkReslute","bestScore","sys","localStorage","setItem","onLose","update","dt","fillRange","runAction","sequence","moveTo","callFunc","destroy","rdTemp","generateRandomNumber","rd","i","length","getRandomAnswer","min_value","max_value","random_number","Math","random","floor","n1","item","index","spriteFrame"],"mappings":"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","file":"QuickSmath.js","sourceRoot":"..\\..\\..\\..\\assets\\Scripts","sourcesContent":["var SPEED_MOVE_VIEW = 0.2;\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        lb: cc.Label,\r\n        lbButon: [cc.Label],\r\n        spCountDown: cc.Sprite,\r\n        isStart: false,\r\n        list_Bkg:[cc.SpriteFrame],\r\n        bkg:cc.Sprite,\r\n        lb_Score:cc.Label\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad() {\r\n        this.num1 = \"\";\r\n        this.num2 = \"\";\r\n        this.num3 = \"\";\r\n        this.caculer1 = \"\";\r\n        this.caculer2 = \"\";\r\n        this.result = \"\";\r\n        this.indexHide = 0;\r\n        this.current = 6;\r\n        this.totlTime = 6;\r\n        this.node.position = cc.v2(cc.winSize.width, 0);\r\n        this.posCenter = cc.v2(0, 0);\r\n        this.posRight = cc.v2(cc.winSize.width, 0);\r\n        this.posLeft = cc.v2(-cc.winSize.width, 0);\r\n        this.setRandomBkg();\r\n        this.lb_Score.string= this.GameView.score;\r\n    },\r\n    start() {\r\n       this.moveIn();\r\n    },\r\n    setInfo(obj) {\r\n        this.num1 = obj.num1;\r\n        this.num2 = obj.num2;\r\n        this.num3 = obj.num3;\r\n        this.caculer1 = obj.caculer1;\r\n        this.caculer2 = obj.caculer2;\r\n        this.result = obj.result;\r\n        this.indexHide = obj.indexHide;\r\n        this.isThreeAnswer = true;\r\n        if (this.indexHide == 1 || this.indexHide == 3) this.isThreeAnswer = false;\r\n\r\n        switch (this.indexHide) {\r\n            case 0:\r\n                this.lb.string = \"?\" + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + this.result;\r\n                this.numHide = this.num1;\r\n                break;\r\n            case 1:\r\n                this.lb.string = this.num1 + \" \" + \"?\" + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \"=\" + \" \" + this.result;\r\n                this.numHide = this.caculer1;\r\n                console.log(\"cacule la==1 \" + this.numHide);\r\n                break;\r\n            case 2:\r\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + \"?\" + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + this.result;\r\n                this.numHide = this.num2;\r\n\r\n                break;\r\n            case 3:\r\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + \"?\" + \" \" + this.num3 + \" = \" + this.result;\r\n                this.numHide = this.this.caculer2;\r\n                break;\r\n            case 4:\r\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + \"?\" + \" = \" + this.result;\r\n                this.numHide = this.num3;\r\n                break;\r\n            case 5:\r\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + \" ?\";\r\n                this.numHide = this.result;\r\n                break;\r\n            default:\r\n                console.log(\"cacule la== \" + this.numHide);\r\n                break;\r\n        }\r\n\r\n        // this.isThreeAnswer = true;\r\n        if (!this.isThreeAnswer) this.lbButon[2].node.parent.active = false;\r\n        this.setInfoBtn();\r\n    },\r\n    getResult(str) {\r\n        eval(str)\r\n    },\r\n    onClick(event, data) {\r\n        switch (data) {\r\n            case \"0\":\r\n                console.log(\" ========\" + this.numHide);\r\n                if (this.lbButon[0].string == this.numHide) {\r\n                    this.isFinish();\r\n                    return;\r\n                }\r\n                break;\r\n            case \"1\":\r\n                console.log(\" ==1 ==\" + this.numHide);\r\n                if (this.lbButon[1].string == this.numHide) {\r\n                    this.isFinish();\r\n                    return;\r\n                }\r\n                break;\r\n            case \"2\":\r\n                if (this.lbButon[2].string == this.numHide) {\r\n                    this.isFinish();\r\n                    return;\r\n                }\r\n                break;\r\n        }\r\n\r\n        this.isFail();\r\n\r\n    },\r\n    isFinish() {\r\n        this.moveOut();\r\n        this.GameView.score++;\r\n        this.GameView._currentLv++;\r\n        this.GameView.checkReslute();\r\n\r\n    },\r\n    isFail() {\r\n        if(this.GameView.score> this.GameView.bestScore){\r\n            this.GameView.bestScore=this.GameView.score;\r\n            cc.sys.localStorage.setItem(\"bestscore\",this.GameView.bestScore);\r\n        }\r\n        this.GameView._currentLv = 0;\r\n        this.GameView.onLose();\r\n    },\r\n    update(dt) {\r\n\r\n        if (this.isStart) {\r\n\r\n            this.spCountDown.fillRange = this.current / this.totlTime\r\n            this.current -= dt;\r\n\r\n            if (this.current <= 0) {\r\n                this.isFail();\r\n                this.isStart = false;\r\n            }\r\n        }\r\n\r\n    },\r\n    moveOut() {\r\n        this.node.runAction(cc.sequence(cc.moveTo(SPEED_MOVE_VIEW, this.posLeft),cc.callFunc(()=>{\r\n        this.node.destroy();\r\n        })));\r\n    },\r\n    moveIn() {\r\n        this.node.runAction(cc.sequence(cc.moveTo(SPEED_MOVE_VIEW, this.posCenter),cc.callFunc(()=>{\r\n            this.isStart = true;\r\n        })));\r\n    },\r\n    setInfoBtn() {\r\n        if (!this.isThreeAnswer) {\r\n            let rdTemp = this.generateRandomNumber(0, 2);\r\n\r\n            if (rdTemp == 0) {\r\n                this.lbButon[0].string = \"+\";\r\n                this.lbButon[1].string = \"-\";\r\n            } else {\r\n                this.lbButon[0].string = \"-\";\r\n                this.lbButon[1].string = \"+\";\r\n            }\r\n\r\n            return;\r\n        }\r\n        let rd = this.generateRandomNumber(0, 3);\r\n        this.lbButon[rd].string = this.numHide;\r\n\r\n        for (let i = 0; i < this.lbButon.length; i++) {\r\n            if (i != rd) {\r\n                this.lbButon[i].string = this.getRandomAnswer(this.numHide);\r\n            }\r\n        }\r\n    },\r\n    generateRandomNumber(min_value, max_value) {\r\n        let random_number = Math.random() * (max_value - min_value) + min_value;\r\n        return Math.floor(random_number);\r\n    },\r\n    getRandomAnswer(n1) {\r\n        console.log(\"== chay vao getRandomAnswer\")\r\n        let item = \"\";\r\n        item = this.generateRandomNumber(n1 - 5, n1 + 5);\r\n        for (let i = 0; i < this.lbButon.length; i++) {\r\n            if (item == this.lbButon[i].string) {\r\n                item = this.getRandomAnswer(n1);\r\n            }\r\n        }\r\n        return item;\r\n\r\n    },\r\n    setRandomBkg(){\r\n        let index= this.generateRandomNumber(0,5);\r\n        this.bkg.spriteFrame=this.list_Bkg[index];\r\n    }\r\n    // i = 0;\r\n\r\n    //da = 0; \r\n\r\n\r\n\r\n});\r\n"]}