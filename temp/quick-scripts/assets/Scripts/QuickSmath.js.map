{"version":3,"sources":["QuickSmath.js"],"names":["SPEED_MOVE_VIEW","cc","Class","extends","Component","properties","lb","Label","lbButon","spCountDown","Sprite","isStart","list_Bkg","SpriteFrame","bkg","lb_Score","onLoad","num1","num2","num3","caculer1","caculer2","result","indexHide","current","totlTime","isThreeAnswer","node","position","v2","winSize","width","posCenter","posRight","posLeft","setRandomBkg","GameView","parent","getComponent","string","score","start","moveIn","setInfo","obj","numHide","console","log","this","active","setInfoBtn","getResult","str","eval","onClick","event","data","isFinish","isFail","moveOut","checkReslute","bestScore","sys","localStorage","setItem","onLose","update","dt","fillRange","runAction","sequence","moveTo","callFunc","destroy","rdTemp","generateRandomNumber","rd","i","length","getRandomAnswer","min_value","max_value","random_number","Math","random","floor","n1","item","index","spriteFrame"],"mappings":"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","file":"QuickSmath.js","sourceRoot":"../../../../assets/Scripts","sourcesContent":["var SPEED_MOVE_VIEW = 0.2;\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        lb: cc.Label,\n        lbButon: [cc.Label],\n        spCountDown: cc.Sprite,\n        isStart: false,\n        list_Bkg:[cc.SpriteFrame],\n        bkg:cc.Sprite,\n        lb_Score:cc.Label\n    },\n\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad() {\n        this.num1 = \"\";\n        this.num2 = \"\";\n        this.num3 = \"\";\n        this.caculer1 = \"\";\n        this.caculer2 = \"\";\n        this.result = \"\";\n        this.indexHide = 0;\n        this.current = 8;\n        this.totlTime = 8;\n        this.isThreeAnswer = true;\n        this.node.position = cc.v2(cc.winSize.width, 0);\n        this.posCenter = cc.v2(0, 0);\n        this.posRight = cc.v2(cc.winSize.width, 0);\n        this.posLeft = cc.v2(-cc.winSize.width, 0);\n        this.setRandomBkg();\n        this.GameView= this.node.parent.getComponent(\"GameView\");\n        this.lb_Score.string= this.GameView.score;\n    },\n    start() {\n       this.moveIn();\n    },\n    setInfo(obj) {\n        this.num1 = obj.num1;\n        this.num2 = obj.num2;\n        this.num3 = obj.num3;\n        this.caculer1 = obj.caculer1;\n        this.caculer2 = obj.caculer2;\n        this.result = obj.result;\n        this.indexHide = obj.indexHide;\n        if (this.indexHide == 1 || this.indexHide == 3) this.isThreeAnswer = false;\n\n        switch (this.indexHide) {\n            case 0:\n                this.lb.string = \"?\" + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + this.result;\n                this.numHide = this.num1;\n                break;\n            case 1:\n                this.lb.string = this.num1 + \" \" + \"?\" + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \"=\" + \" \" + this.result;\n                this.numHide = this.caculer1;\n                console.log(\"cacule la==1 \" + this.numHide);\n                break;\n            case 2:\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + \"?\" + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + this.result;\n                this.numHide = this.num2;\n\n                break;\n            case 3:\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + \"?\" + \" \" + this.num3 + \" = \" + this.result;\n                this.numHide = this.this.caculer2;\n                break;\n            case 4:\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + \"?\" + \" = \" + this.result;\n                this.numHide = this.num3;\n                break;\n            case 5:\n                this.lb.string = this.num1 + \" \" + this.caculer1 + \" \" + this.num2 + \" \" + this.caculer2 + \" \" + this.num3 + \" = \" + \" ?\";\n                this.numHide = this.result;\n                break;\n            default:\n                console.log(\"cacule la== \" + this.numHide);\n                break;\n        }\n\n        // this.isThreeAnswer = true;\n        if (!this.isThreeAnswer) this.lbButon[2].node.parent.active = false;\n        this.setInfoBtn();\n    },\n    getResult(str) {\n        eval(str)\n    },\n    onClick(event, data) {\n        switch (data) {\n            case \"0\":\n                console.log(\" ========\" + this.numHide);\n                if (this.lbButon[0].string == this.numHide) {\n                    this.isFinish();\n                    return;\n                }\n                break;\n            case \"1\":\n                console.log(\" ==1 ==\" + this.numHide);\n                if (this.lbButon[1].string == this.numHide) {\n                    this.isFinish();\n                    return;\n                }\n                break;\n            case \"2\":\n                if (this.lbButon[2].string == this.numHide) {\n                    this.isFinish();\n                    return;\n                }\n                break;\n        }\n\n        this.isFail();\n\n    },\n    isFinish() {\n        console.log(\"dung roi\");\n        this.moveOut();\n        this.GameView.score++;\n        this.GameView.checkReslute();\n\n    },\n    isFail() {\n        console.log(\"sai roi\");\n        if(this.GameView.score> this.GameView.bestScore){\n            this.GameView.bestScore=this.GameView.score;\n            cc.sys.localStorage.setItem(\"bestscore\",this.GameView.bestScore);\n        }\n        this.GameView.onLose();\n    },\n    update(dt) {\n\n        if (this.isStart) {\n\n            this.spCountDown.fillRange = this.current / this.totlTime\n            this.current -= dt;\n\n            if (this.current <= 0) {\n                this.isFail();\n                this.isStart = false;\n            }\n        }\n\n    },\n    moveOut() {\n        this.node.runAction(cc.sequence(cc.moveTo(SPEED_MOVE_VIEW, this.posLeft),cc.callFunc(()=>{\n        this.node.destroy();\n        })));\n    },\n    moveIn() {\n        this.node.runAction(cc.sequence(cc.moveTo(SPEED_MOVE_VIEW, this.posCenter),cc.callFunc(()=>{\n            this.isStart = true;\n        })));\n    },\n    setInfoBtn() {\n        if (!this.isThreeAnswer) {\n            let rdTemp = this.generateRandomNumber(0, 2);\n\n            if (rdTemp == 0) {\n                this.lbButon[0].string = \"+\";\n                this.lbButon[1].string = \"-\";\n            } else {\n                this.lbButon[0].string = \"-\";\n                this.lbButon[1].string = \"+\";\n            }\n\n            return;\n        }\n        let rd = this.generateRandomNumber(0, 3);\n        this.lbButon[rd].string = this.numHide;\n\n        for (let i = 0; i < this.lbButon.length; i++) {\n            if (i != rd) {\n                this.lbButon[i].string = this.getRandomAnswer(this.numHide);\n            }\n        }\n    },\n    generateRandomNumber(min_value, max_value) {\n        let random_number = Math.random() * (max_value - min_value) + min_value;\n        return Math.floor(random_number);\n    },\n    getRandomAnswer(n1) {\n        console.log(\"== chay vao getRandomAnswer\")\n        let item = \"\";\n        item = this.generateRandomNumber(n1 - 5, n1 + 5);\n        for (let i = 0; i < this.lbButon.length; i++) {\n            if (item == this.lbButon[i].string) {\n                item = this.getRandomAnswer(n1);\n            }\n        }\n        return item;\n\n    },\n    setRandomBkg(){\n        let index= this.generateRandomNumber(0,5);\n        this.bkg.spriteFrame=this.list_Bkg[index];\n    }\n    // i = 0;\n\n    //da = 0; \n\n\n\n});\n"]}